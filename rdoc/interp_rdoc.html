<!DOCTYPE html>

<html>
<head>
<meta charset="UTF-8">

<title>interp - Ruby/GSL (v1.16.0.2)</title>

<link href="../fonts.css" rel="stylesheet">
<link href="../rdoc.css" rel="stylesheet">

<script type="text/javascript">
  var rdoc_rel_prefix = "../";
</script>

<script src="../js/jquery.js"></script>
<script src="../js/navigation.js"></script>
<script src="../js/search_index.js"></script>
<script src="../js/search.js"></script>
<script src="../js/searcher.js"></script>
<script src="../js/darkfish.js"></script>


<body id="top" role="document" class="file">
<nav role="navigation">
  <div id="project-navigation">
    <div id="home-section" role="region" title="Quick navigation" class="nav-section">
  <h2>
    <a href="../index.html" rel="home">Home</a>
  </h2>

  <div id="table-of-contents-navigation">
    <a href="../table_of_contents.html#pages">Pages</a>
    <a href="../table_of_contents.html#classes">Classes</a>
    <a href="../table_of_contents.html#methods">Methods</a>
  </div>
</div>

    <div id="search-section" role="search" class="project-section initially-hidden">
  <form action="#" method="get" accept-charset="utf-8">
    <div id="search-field-wrapper">
      <input id="search-field" role="combobox" aria-label="Search"
             aria-autocomplete="list" aria-controls="search-results"
             type="text" name="search" placeholder="Search" spellcheck="false"
             title="Type to search, Up and Down to navigate, Enter to load">
    </div>

    <ul id="search-results" aria-label="Search Results"
        aria-busy="false" aria-expanded="false"
        aria-atomic="false" class="initially-hidden"></ul>
  </form>
</div>

  </div>

  
<div class="nav-section">
  <h3>Table of Contents</h3>

  <ul class="link-list" role="directory">
    <li><a href="#label-Interpolation">Interpolation</a>
    <li><a href="#label-+Interpolation+Classes"><a href="index.html"name="1"></a> Interpolation Classes</a>
    <li><a href="#label-+Initializing+interpolation+objects"><a href="index.html"name="2"></a> Initializing interpolation objects</a>
    <li><a href="#label-+Index+Look-up+and+Acceleration"><a href="index.html"name="3"></a> Index Look-up and Acceleration</a>
    <li><a href="#label-+Evaluation+of+Interpolating+Functions"><a href="index.html"name="4"></a> Evaluation of Interpolating Functions</a>
    <li><a href="#label-+Higher+level+interface%3A+GSL%3A%3ASpline+class"><a href="index.html"name="5"></a> Higher level interface: GSL::Spline class</a>
    <li><a href="#label-+Class+initialization"><a href="index.html"name="5.1"></a> Class initialization</a>
    <li><a href="#label-+Evaluation"><a href="index.html"name="5.2"></a> Evaluation</a>
    <li><a href="#label-+Finding+and+acceleration"><a href="index.html"name="5.3"></a> Finding and acceleration</a>
  </ul>
</div>


  <div id="project-metadata">
    <div id="fileindex-section" class="nav-section">
  <h3>Pages</h3>

  <ul class="link-list">
  
    <li><a href="../rdoc/alf_rdoc.html">alf</a>
  
    <li><a href="../rdoc/blas_rdoc.html">blas</a>
  
    <li><a href="../rdoc/bspline_rdoc.html">bspline</a>
  
    <li><a href="../rdoc/changes_rdoc.html">changes</a>
  
    <li><a href="../rdoc/cheb_rdoc.html">cheb</a>
  
    <li><a href="../rdoc/cholesky_complex_rdoc.html">cholesky_complex</a>
  
    <li><a href="../rdoc/combi_rdoc.html">combi</a>
  
    <li><a href="../rdoc/complex_rdoc.html">complex</a>
  
    <li><a href="../rdoc/const_rdoc.html">const</a>
  
    <li><a href="../rdoc/dht_rdoc.html">dht</a>
  
    <li><a href="../rdoc/diff_rdoc.html">diff</a>
  
    <li><a href="../rdoc/ehandling_rdoc.html">ehandling</a>
  
    <li><a href="../rdoc/eigen_rdoc.html">eigen</a>
  
    <li><a href="../rdoc/fft_rdoc.html">fft</a>
  
    <li><a href="../rdoc/fit_rdoc.html">fit</a>
  
    <li><a href="../rdoc/function_rdoc.html">function</a>
  
    <li><a href="../rdoc/graph_rdoc.html">graph</a>
  
    <li><a href="../rdoc/hist_rdoc.html">hist</a>
  
    <li><a href="../rdoc/hist2d_rdoc.html">hist2d</a>
  
    <li><a href="../rdoc/hist3d_rdoc.html">hist3d</a>
  
    <li><a href="../rdoc/index_rdoc.html">index</a>
  
    <li><a href="../rdoc/integration_rdoc.html">integration</a>
  
    <li><a href="../rdoc/interp_rdoc.html">interp</a>
  
    <li><a href="../rdoc/intro_rdoc.html">intro</a>
  
    <li><a href="../rdoc/linalg_rdoc.html">linalg</a>
  
    <li><a href="../rdoc/linalg_complex_rdoc.html">linalg_complex</a>
  
    <li><a href="../rdoc/math_rdoc.html">math</a>
  
    <li><a href="../rdoc/matrix_rdoc.html">matrix</a>
  
    <li><a href="../rdoc/min_rdoc.html">min</a>
  
    <li><a href="../rdoc/monte_rdoc.html">monte</a>
  
    <li><a href="../rdoc/multimin_rdoc.html">multimin</a>
  
    <li><a href="../rdoc/multiroot_rdoc.html">multiroot</a>
  
    <li><a href="../rdoc/narray_rdoc.html">narray</a>
  
    <li><a href="../rdoc/ndlinear_rdoc.html">ndlinear</a>
  
    <li><a href="../rdoc/nonlinearfit_rdoc.html">nonlinearfit</a>
  
    <li><a href="../rdoc/ntuple_rdoc.html">ntuple</a>
  
    <li><a href="../rdoc/odeiv_rdoc.html">odeiv</a>
  
    <li><a href="../rdoc/perm_rdoc.html">perm</a>
  
    <li><a href="../rdoc/poly_rdoc.html">poly</a>
  
    <li><a href="../rdoc/qrng_rdoc.html">qrng</a>
  
    <li><a href="../rdoc/randist_rdoc.html">randist</a>
  
    <li><a href="../rdoc/ref_rdoc.html">ref</a>
  
    <li><a href="../rdoc/rng_rdoc.html">rng</a>
  
    <li><a href="../rdoc/roots_rdoc.html">roots</a>
  
    <li><a href="../rdoc/sf_rdoc.html">sf</a>
  
    <li><a href="../rdoc/siman_rdoc.html">siman</a>
  
    <li><a href="../rdoc/sort_rdoc.html">sort</a>
  
    <li><a href="../rdoc/start_rdoc.html">start</a>
  
    <li><a href="../rdoc/stats_rdoc.html">stats</a>
  
    <li><a href="../rdoc/sum_rdoc.html">sum</a>
  
    <li><a href="../rdoc/tensor_rdoc.html">tensor</a>
  
    <li><a href="../rdoc/tut_rdoc.html">tut</a>
  
    <li><a href="../rdoc/use_rdoc.html">use</a>
  
    <li><a href="../rdoc/vector_rdoc.html">vector</a>
  
    <li><a href="../rdoc/vector_complex_rdoc.html">vector_complex</a>
  
    <li><a href="../rdoc/wavelet_rdoc.html">wavelet</a>
  
  </ul>
</div>

  </div>
</nav>

<main role="main" aria-label="Page rdoc/interp.rdoc">

<h1 id="label-Interpolation">Interpolation<span><a href="#label-Interpolation">&para;</a> <a href="#documentation">&uarr;</a></span></h1>

<p>This chapter describes functions for performing interpolation. The library
provides a variety of interpolation methods, including Cubic splines and
Akima splines. The interpolation types are interchangeable, allowing
different methods to be used without recompiling. Interpolations can be
defined for both normal and periodic boundary conditions. Additional
functions are available for computing derivatives and integrals of
interpolating functions.</p>
<ol><li>
<p><a href="interp_rdoc.html#1">Interpolation classes</a></p>
</li><li>
<p><a href="interp_rdoc.html#2">Initializing interpolation objects</a></p>
</li><li>
<p><a href="interp_rdoc.html#3">Index Look-up and Acceleration</a></p>
</li><li>
<p><a href="interp_rdoc.html#4">Evaluation of Interpolating Functions</a></p>
</li><li>
<p><a href="interp_rdoc.html#5">Higher level interface: GSL::Spline class</a></p>
<ol><li>
<p><a href="interp_rdoc.html#5.1">Class initialization</a></p>
</li><li>
<p><a href="interp_rdoc.html#5.2">Evaluation</a></p>
</li><li>
<p><a href="interp_rdoc.html#5.3">Finding and acceleration</a></p>
</li></ol>
</li></ol>

<h2 id="label-+Interpolation+Classes"><a href="../index.html"name="1"></a> Interpolation Classes<span><a href="#label-+Interpolation+Classes">&para;</a> <a href="#documentation">&uarr;</a></span></h2>
<ul><li>
<p>GSL</p>
<ul><li>
<p>Interp (class)</p>
<ul><li>
<p>Accel (class)</p>
</li></ul>
</li><li>
<p>Spline (class)</p>
</li></ul>
</li></ul>

<h2 id="label-+Initializing+interpolation+objects"><a href="../index.html"name="2"></a> Initializing interpolation objects<span><a href="#label-+Initializing+interpolation+objects">&para;</a> <a href="#documentation">&uarr;</a></span></h2>
<hr>
<ul><li>
<p>GSL::Interp.alloc(T, n)</p>
</li><li>
<p>GSL::Interp.alloc(T, x, y)</p>
</li><li>
<p>GSL::Interp.alloc(x, y)</p>

<p>These methods create an  interpolation object of type <code>T</code> for
<code>n</code> data-points.</p>

<p>The library provides six types, which are specifiled by an identifier of a
constant or a string:</p>
<ul><li>
<p>Interp::LINEAR or “linear”</p>

<p>Linear interpolation. This interpolation method does not require any
additional memory.</p>
</li><li>
<p>Interp::POLYNOMIAL or “polynomial”</p>

<p>Polynomial interpolation. This method should only be used for interpolating
small numbers of points because polynomial interpolation introduces large
oscillations, even for well-behaved datasets. The number of terms in the
interpolating polynomial is equal to the number of points.</p>
</li><li>
<p>Interp::CSPLINE or “cspline”</p>

<p>Cubic spline with natural boundary conditions.</p>
</li><li>
<p>Interp::CSPLINE_PERIODIC or “gsl_cspline_periodic” or “cspline_periodic”</p>

<p>Cubic spline with periodic boundary conditions</p>
</li><li>
<p>Interp::AKIMA or “akima”</p>

<p>Non-rounded Akima spline with natural boundary conditions. This method uses
the non-rounded corner algorithm of Wodicka.</p>
</li><li>
<p>Interp::AKIMA_PERIODIC or “akima_periodic”</p>

<p>Non-rounded Akima spline with periodic boundary conditions. This method
uses the non-rounded corner algorithm of Wodicka.</p>
<ul><li>
<p>ex: For cubic spline for 10 points,</p>

<pre>sp = Interp.alloc(&quot;cspline&quot;, 10)</pre>
</li></ul>
</li></ul>
</li></ul>
<hr>
<ul><li>
<p>GSL::Interp#init(xa, ya)</p>

<p>This method initializes the interpolation object interp for the data
<code>(xa,ya)</code> where <code>xa</code> and <code>ya</code> are vectors.
The interpolation object (<code>GSL::Interp</code>) does not save the data
vectors <code>xa, ya</code> and only stores the static state computed from
the data. The <code>xa</code> vector is always assumed to be strictly
ordered; the behavior for other arrangements is not defined.</p>
</li></ul>
<hr>
<ul><li>
<p>GSL::Interp#name</p>

<p>This returns the name of the interpolation type used by <code>self</code>.</p>
</li></ul>
<hr>
<ul><li>
<p>GSL::Interp#min_size</p>

<p>This returns the minimum number of points required by the interpolation
type of <code>self</code>. For example, Akima spline interpolation requires
a minimum of 5 points.</p>
</li></ul>

<h2 id="label-+Index+Look-up+and+Acceleration"><a href="../index.html"name="3"></a> Index Look-up and Acceleration<span><a href="#label-+Index+Look-up+and+Acceleration">&para;</a> <a href="#documentation">&uarr;</a></span></h2>
<hr>
<ul><li>
<p>GSL::Interp.bsearch(xa, x, index_lo, index_hi)</p>

<p>This returns the index i of the vector <code>xa</code> such that
<code>xa[i] &lt;= x &lt; x[i+1]</code>. The index is searched for in the
range <code>[index_lo,index_hi]</code>.</p>
</li></ul>
<hr>
<ul><li>
<p>GSL::Interp#accel</p>

<p>In C level, the library requires a <code>gsl_interp_accel</code> object,
but it is hidden in Ruby/GSL. It is automatically allocated when a
<code>GSL::Interp</code> object is created, stored in it, and destroyed
when the <code>Interp</code> object is cleaned by the Ruby GC. This method
is used to access to the <code>Interp::Accel</code> object stored in
<code>self</code>.</p>
</li></ul>
<hr>
<ul><li>
<p>GSL::Interp#find(xa, x)</p>
</li><li>
<p>GSL::Interp#accel_find(xa, x)</p>
</li><li>
<p>GSL::Interp::Accel#find(xa, x)</p>

<p>This method performs a lookup action on the data array <code>xa</code>.
This is how lookups are performed during evaluation of an interpolation.
The function returns an index <code>i</code> such that <code>xa[i] &lt;= x
&lt; xa[i+1]</code>.</p>
</li></ul>

<h2 id="label-+Evaluation+of+Interpolating+Functions"><a href="../index.html"name="4"></a> Evaluation of Interpolating Functions<span><a href="#label-+Evaluation+of+Interpolating+Functions">&para;</a> <a href="#documentation">&uarr;</a></span></h2>
<hr>
<ul><li>
<p>GSL::Interp#eval(xa, ya, x)</p>
</li><li>
<p>GSL::Interp#eval_e(xa, ya, x)</p>

<p>These methods return the interpolated value for a given point
<code>x</code>, using the interpolation object <code>self</code>, data
vectors <code>xa</code> and <code>ya</code>. The data <code>x</code> can be
a <code>Numeric, Vector, Matrix</code> or an <code>NArray</code>.</p>
</li></ul>
<hr>
<ul><li>
<p>GSL::Interp#eval_deriv(xa, ya, x)</p>
</li><li>
<p>GSL::Interp#eval_deriv_e(xa, ya, x)</p>

<p>These methods return the derivative of an interpolated function for a given
point <code>x</code>, using the interpolation object <code>self</code>,
data vectors <code>xa</code> and <code>ya</code>.</p>
</li></ul>
<hr>
<ul><li>
<p>GSL::Interp#eval_deriv2(xa, ya, x)</p>
</li><li>
<p>GSL::Interp#eval_deriv2_e(xa, ya, x)</p>

<p>These methods return the second derivative of an interpolated function for
a given point <code>x</code>, using the interpolation object
<code>self</code>, data vectors <code>xa</code> and <code>ya</code>.</p>
</li></ul>
<hr>
<ul><li>
<p>GSL::Interp#eval_integ(xa, ya, a, b)</p>
</li><li>
<p>GSL::Interp#eval_integ_e(xa, ya, a, b)</p>

<p>These methods return the numerical integral result of an interpolated
function over the range <code>[a, b]</code>, using the interpolation object
<code>self</code>, data vectors <code>xa</code> and <code>ya</code>.</p>
</li></ul>

<h2 id="label-+Higher+level+interface%3A+GSL%3A%3ASpline+class"><a href="../index.html"name="5"></a> Higher level interface: GSL::Spline class<span><a href="#label-+Higher+level+interface%3A+GSL%3A%3ASpline+class">&para;</a> <a href="#documentation">&uarr;</a></span></h2>

<h3 id="label-+Class+initialization"><a href="../index.html"name="5.1"></a> Class initialization<span><a href="#label-+Class+initialization">&para;</a> <a href="#documentation">&uarr;</a></span></h3>
<hr>
<ul><li>
<p>GSL::Spline.alloc(T, n)</p>
</li><li>
<p>GSL::Spline.alloc(T, x, y)</p>
</li><li>
<p>GSL::Spline.alloc(x, y, T)</p>

<p>This creates a <code>GSL::Spline</code> object of type <code>T</code> for
<code>n</code> data-points. The type <code>T</code> is the same as
<code>GSL::Interp</code> class.</p>

<p>These two are equivalent.</p>
<ul><li>
<p><code>GSL::Spline.alloc</code> and <code>GSL::Spline#init</code></p>

<pre>sp = GSL::Spline.alloc(T, n)
sp.init(x, y)                 # x and y are vectors of length n</pre>
</li><li>
<p><code>GSL::Spline.alloc</code> with two vectors</p>

<pre>sp = GSL::Spline.alloc(T, x, y)</pre>
</li></ul>

<p>If <code>T</code> is not given, “cspline” is used.</p>
</li></ul>
<hr>
<ul><li>
<p>GSL::Spline#init(xa, ya)</p>

<p>This initializes a <code>GSL::Spline</code> object <code>self</code> for
the data (<code>xa, ya</code>) where <code>xa</code> and <code>ya</code>
are Ruby arrays of equal sizes or <code>GSL::Vector</code>.</p>
</li></ul>
<hr>
<ul><li>
<p>GSL::Spline#name</p>

<p>This returns the name of the spline type used by <code>self</code>.</p>
</li></ul>

<h3 id="label-+Evaluation"><a href="../index.html"name="5.2"></a> Evaluation<span><a href="#label-+Evaluation">&para;</a> <a href="#documentation">&uarr;</a></span></h3>
<hr>
<ul><li>
<p>GSL::Spline#eval(x)</p>

<p>This returns the interpolated value for a given point <code>x</code>. The
data <code>x</code> can be a <code>Numeric, Vector, Matrix</code> or an
<code>NArray</code>.</p>

<p>NOTE: In a GSL-C program, a <code>gsl_interp_accel</code> object is
required to use the function <code>gsl_spline_eval</code>. In Ruby/GSL, the
<code>gsl_interp_accel</code> is hidden, it is automatically allocated when
a <code>GSL::Spline</code> object is created, and also destroyed when the
<code>Spline</code> object is cleaned by the Ruby GC. The accel object can
be accessed via the method <code>GSL::Spline#accel</code>.</p>
</li></ul>
<hr>
<ul><li>
<p>GSL::Spline#eval_deriv(x)</p>

<p>This returns the derivative of an interpolated function for a given point
<code>x</code>, usingthe data arrays <code>xa</code> and <code>ya</code>
set by <code>init</code>.</p>
</li></ul>
<hr>
<ul><li>
<p>GSL::Spline#eval_deriv2(x)</p>

<p>This returns the second derivative at <code>x</code>.</p>
</li></ul>
<hr>
<ul><li>
<p>GSL::Spline#eval_integ(a, b)</p>

<p>Returns the numerical integral over the range [<code>a, b</code>].</p>
</li></ul>

<h3 id="label-+Finding+and+acceleration"><a href="../index.html"name="5.3"></a> Finding and acceleration<span><a href="#label-+Finding+and+acceleration">&para;</a> <a href="#documentation">&uarr;</a></span></h3>
<hr>
<ul><li>
<p>GSL::Spline#find(xa, x)</p>
</li><li>
<p>GSL::Spline#accel_find(xa, x)</p>

<p>This method performs a lookup action on the data array <code>xa</code>.
This is how lookups are performed during evaluation of an interpolation.
The function returns an index <code>i</code> such that <code>xa[i] &lt;= x
&lt; xa[i+1]</code>.</p>
</li></ul>

<p>See also the GSL manual and the examples in <code>examples/</code></p>

<p><a href="odeiv_rdoc.html">prev</a> <a href="diff_rdoc.html">next</a></p>

<p><a href="ref_rdoc.html">Reference index</a> <a href="../index.html">top</a></p>
</main>



<footer id="validator-badges" role="contentinfo">
  <p><a href="http://validator.w3.org/check/referer">Validate</a>
  <p>Generated by <a href="http://rdoc.rubyforge.org">RDoc</a> 4.1.2.
  <p>Based on <a href="http://deveiate.org/projects/Darkfish-Rdoc/">Darkfish</a> by <a href="http://deveiate.org">Michael Granger</a>.
</footer>

