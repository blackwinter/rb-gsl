<!DOCTYPE html>

<html>
<head>
<meta charset="UTF-8">

<title>wavelet - Ruby/GSL (v1.16.0.4)</title>

<script type="text/javascript">
  var rdoc_rel_prefix = "../";
</script>

<script src="../js/jquery.js"></script>
<script src="../js/darkfish.js"></script>

<link href="../css/fonts.css" rel="stylesheet">
<link href="../css/rdoc.css" rel="stylesheet">



<body id="top" role="document" class="file">
<nav role="navigation">
  <div id="project-navigation">
    <div id="home-section" role="region" title="Quick navigation" class="nav-section">
  <h2>
    <a href="../index.html" rel="home">Home</a>
  </h2>

  <div id="table-of-contents-navigation">
    <a href="../table_of_contents.html#pages">Pages</a>
    <a href="../table_of_contents.html#classes">Classes</a>
    <a href="../table_of_contents.html#methods">Methods</a>
  </div>
</div>

    <div id="search-section" role="search" class="project-section initially-hidden">
  <form action="#" method="get" accept-charset="utf-8">
    <div id="search-field-wrapper">
      <input id="search-field" role="combobox" aria-label="Search"
             aria-autocomplete="list" aria-controls="search-results"
             type="text" name="search" placeholder="Search" spellcheck="false"
             title="Type to search, Up and Down to navigate, Enter to load">
    </div>

    <ul id="search-results" aria-label="Search Results"
        aria-busy="false" aria-expanded="false"
        aria-atomic="false" class="initially-hidden"></ul>
  </form>
</div>

  </div>

  
<div class="nav-section">
  <h3>Table of Contents</h3>

  <ul class="link-list" role="directory">
    <li><a href="#label-Discrete+Wavelet+Transforms">Discrete Wavelet Transforms</a>
    <li><a href="#label-Definitions">Definitions</a>
    <li><a href="#label-Initialization">Initialization</a>
    <li><a href="#label-Transform+Methods">Transform Methods</a>
    <li><a href="#label-Wavelet+transforms+in+one+dimension">Wavelet transforms in one dimension</a>
    <li><a href="#label-Wavelet+transforms+in+two+dimension">Wavelet transforms in two dimension</a>
    <li><a href="#label-Example">Example</a>
  </ul>
</div>


  <div id="project-metadata">
    <div id="fileindex-section" class="nav-section">
  <h3>Pages</h3>

  <ul class="link-list">
  
    <li><a href="../COPYING.html">COPYING</a>
  
    <li><a href="../ChangeLog.html">ChangeLog</a>
  
    <li><a href="../README.html">README</a>
  
    <li><a href="../rdoc/alf_rdoc.html">alf</a>
  
    <li><a href="../rdoc/blas_rdoc.html">blas</a>
  
    <li><a href="../rdoc/bspline_rdoc.html">bspline</a>
  
    <li><a href="../rdoc/changes_rdoc.html">changes</a>
  
    <li><a href="../rdoc/cheb_rdoc.html">cheb</a>
  
    <li><a href="../rdoc/cholesky_complex_rdoc.html">cholesky_complex</a>
  
    <li><a href="../rdoc/combi_rdoc.html">combi</a>
  
    <li><a href="../rdoc/complex_rdoc.html">complex</a>
  
    <li><a href="../rdoc/const_rdoc.html">const</a>
  
    <li><a href="../rdoc/dht_rdoc.html">dht</a>
  
    <li><a href="../rdoc/diff_rdoc.html">diff</a>
  
    <li><a href="../rdoc/ehandling_rdoc.html">ehandling</a>
  
    <li><a href="../rdoc/eigen_rdoc.html">eigen</a>
  
    <li><a href="../rdoc/fft_rdoc.html">fft</a>
  
    <li><a href="../rdoc/fit_rdoc.html">fit</a>
  
    <li><a href="../rdoc/function_rdoc.html">function</a>
  
    <li><a href="../rdoc/graph_rdoc.html">graph</a>
  
    <li><a href="../rdoc/hist_rdoc.html">hist</a>
  
    <li><a href="../rdoc/hist2d_rdoc.html">hist2d</a>
  
    <li><a href="../rdoc/hist3d_rdoc.html">hist3d</a>
  
    <li><a href="../rdoc/integration_rdoc.html">integration</a>
  
    <li><a href="../rdoc/interp_rdoc.html">interp</a>
  
    <li><a href="../rdoc/intro_rdoc.html">intro</a>
  
    <li><a href="../rdoc/linalg_rdoc.html">linalg</a>
  
    <li><a href="../rdoc/linalg_complex_rdoc.html">linalg_complex</a>
  
    <li><a href="../rdoc/math_rdoc.html">math</a>
  
    <li><a href="../rdoc/matrix_rdoc.html">matrix</a>
  
    <li><a href="../rdoc/min_rdoc.html">min</a>
  
    <li><a href="../rdoc/monte_rdoc.html">monte</a>
  
    <li><a href="../rdoc/multimin_rdoc.html">multimin</a>
  
    <li><a href="../rdoc/multiroot_rdoc.html">multiroot</a>
  
    <li><a href="../rdoc/narray_rdoc.html">narray</a>
  
    <li><a href="../rdoc/ndlinear_rdoc.html">ndlinear</a>
  
    <li><a href="../rdoc/nonlinearfit_rdoc.html">nonlinearfit</a>
  
    <li><a href="../rdoc/ntuple_rdoc.html">ntuple</a>
  
    <li><a href="../rdoc/odeiv_rdoc.html">odeiv</a>
  
    <li><a href="../rdoc/perm_rdoc.html">perm</a>
  
    <li><a href="../rdoc/poly_rdoc.html">poly</a>
  
    <li><a href="../rdoc/qrng_rdoc.html">qrng</a>
  
    <li><a href="../rdoc/randist_rdoc.html">randist</a>
  
    <li><a href="../rdoc/ref_rdoc.html">ref</a>
  
    <li><a href="../rdoc/rng_rdoc.html">rng</a>
  
    <li><a href="../rdoc/roots_rdoc.html">roots</a>
  
    <li><a href="../rdoc/sf_rdoc.html">sf</a>
  
    <li><a href="../rdoc/siman_rdoc.html">siman</a>
  
    <li><a href="../rdoc/sort_rdoc.html">sort</a>
  
    <li><a href="../rdoc/start_rdoc.html">start</a>
  
    <li><a href="../rdoc/stats_rdoc.html">stats</a>
  
    <li><a href="../rdoc/sum_rdoc.html">sum</a>
  
    <li><a href="../rdoc/tensor_rdoc.html">tensor</a>
  
    <li><a href="../rdoc/tut_rdoc.html">tut</a>
  
    <li><a href="../rdoc/use_rdoc.html">use</a>
  
    <li><a href="../rdoc/vector_rdoc.html">vector</a>
  
    <li><a href="../rdoc/vector_complex_rdoc.html">vector_complex</a>
  
    <li><a href="../rdoc/wavelet_rdoc.html">wavelet</a>
  
  </ul>
</div>

  </div>
</nav>

<main role="main" aria-label="Page rdoc/wavelet.rdoc">

<h1 id="label-Discrete+Wavelet+Transforms">Discrete Wavelet Transforms<span><a href="#label-Discrete+Wavelet+Transforms">&para;</a> <a href="#top">&uarr;</a></span></h1>

<p>This chapter describes functions for performing Discrete Wavelet Transforms
(DWTs). The library includes wavelets for real data in both one and two
dimensions.</p>

<p>Contents:</p>
<ol><li>
<p><a href="wavelet_rdoc.html#label-Definitions">Definitions</a></p>
</li><li>
<p><a href="wavelet_rdoc.html#label-Initialization">Initialization</a></p>
</li><li>
<p><a href="wavelet_rdoc.html#label-Transform+Methods">Transform methods</a></p>
<ol><li>
<p><a
href="wavelet_rdoc.html#label-Wavelet+transforms+in+one+dimension">Wavelet
transforms in one dimension</a></p>
</li><li>
<p><a
href="wavelet_rdoc.html#label-Wavelet+transforms+in+two+dimension">Wavelet
transforms in two dimension</a></p>
</li></ol>
</li><li>
<p><a href="wavelet_rdoc.html#label-Example">Examples</a></p>
</li></ol>

<h2 id="label-Definitions">Definitions<span><a href="#label-Definitions">&para;</a> <a href="#top">&uarr;</a></span></h2>

<p>The continuous wavelet transform and its inverse are defined by the
relations, and, where the basis functionspsi_{s,tau} are obtained by
scaling and translation from a single function, referred to as the mother
wavelet.</p>

<p>The discrete version of the wavelet transform acts on evenly sampled data,
with fixed scaling and translation steps (s, tau). The frequency and time
axes are sampled dyadically on scales of 2^j through a level parameter j.
The resulting family of functions {psi_{j,n}} constitutes an orthonormal
basis for square-integrable signals.</p>

<p>The discrete wavelet transform is an O(N) algorithm, and is also referred
to as the fast wavelet transform.</p>

<h2 id="label-Initialization">Initialization<span><a href="#label-Initialization">&para;</a> <a href="#top">&uarr;</a></span></h2>
<hr>
<ul><li>
<p>GSL::Wavelet.alloc(type, k)</p>
</li><li>
<p>GSL::Wavelet.alloc(type, k)</p>

<p>This function allocates and initializes a wavelet object of type
<code>type</code>. The parameter <code>k</code> selects the specific member
of the wavelet family.</p>

<p>The wavelet types are given by a constant (Fixnum) or a string as
followings.</p>
<ul><li>
<p><code>GSL::Wavelet::DAUBECHIES</code>, or
<code>&quot;daubechies&quot;</code></p>
</li><li>
<p><code>GSL::Wavelet::DAUBECHIES_CENTERED</code>, or
<code>&quot;daubechies_centered&quot;</code></p>
</li><li>
<p><code>GSL::Wavelet::HAAR</code>, or <code>&quot;haar&quot;</code></p>
</li><li>
<p><code>GSL::Wavelet::HAAR_CENTERED</code>, or
<code>&quot;haar_centered&quot;</code></p>
</li><li>
<p><code>GSL::Wavelet::BSPLINE</code>, or <code>&quot;bspline&quot;</code></p>
</li><li>
<p><code>GSL::Wavelet::BSPLINE_CENTERED</code>, or
<code>&quot;bspline_centered&quot;</code></p>
</li></ul>

<p>The centered forms of the wavelets align the coefficients of the various
sub-bands on edges. Thus the resulting visualization of the coefficients of
the wavelet transform in the phase plane is easier to understand.</p>
</li></ul>
<hr>
<ul><li>
<p>GSL::Wavelet#name</p>

<p>This method returns a String of the name of the wavelet family for
<code>self</code>.</p>
</li></ul>
<hr>
<ul><li>
<p>GSL::Wavelet::Workspace.alloc(n)</p>

<p>The GSL::Wavelet::Workspace object contains scratch space of the same size
as the input data, for holding intermediate results during the transform.
This method allocates a workspace for the discrete wavelet transform. To
perform a one-dimensional transform on <code>n</code> elements, a workspace
of size <code>n</code> must be provided. For two-dimensional transforms of
n-by-n matrices it is sufficient to allocate a workspace of size
<code>n</code>, since the transform operates on individual rows and
columns.</p>
</li></ul>

<h2 id="label-Transform+Methods">Transform Methods<span><a href="#label-Transform+Methods">&para;</a> <a href="#top">&uarr;</a></span></h2>

<h3 id="label-Wavelet+transforms+in+one+dimension">Wavelet transforms in one dimension<span><a href="#label-Wavelet+transforms+in+one+dimension">&para;</a> <a href="#top">&uarr;</a></span></h3>
<hr>
<ul><li>
<p>GSL::Wavelet.transform(w, v, dir = GSL::Wavelet::FORWARD, work)</p>
</li><li>
<p>GSL::Wavelet.transform(w, v, dir)</p>
</li><li>
<p>GSL::Wavelet.transform(w, v, work)</p>
</li><li>
<p>GSL::Wavelet.transform(w, v)</p>
</li><li>
<p>GSL::Wavelet#transform(v, dir = GSL::Wavelet::FORWARD, work)</p>
</li><li>
<p>GSL::Wavelet#transform(v, dir)</p>
</li><li>
<p>GSL::Wavelet#transform(v, work)</p>
</li><li>
<p>GSL::Wavelet#transform(v)</p>
</li><li>
<p>GSL::Wavelet.transform_forward(w, v, work)</p>
</li><li>
<p>GSL::Wavelet.transform_forward(w, v)</p>
</li><li>
<p>GSL::Wavelet#transform_forward(v, work)</p>
</li><li>
<p>GSL::Wavelet#transform_forward(v)</p>
</li><li>
<p>GSL::Wavelet.transform_inverse(w, v, work)</p>
</li><li>
<p>GSL::Wavelet.transform_inverse(w, v)</p>
</li><li>
<p>GSL::Wavelet#transform_inverse(v, work)</p>
</li><li>
<p>GSL::Wavelet#transform_inverse(v)</p>
</li><li>
<p>GSL::Vector#wavelet_transform(w, …)</p>
</li><li>
<p>GSL::Vector#wavelet_transform_forward(w, …)</p>
</li><li>
<p>GSL::Vector#wavelet_transform_inverse(w, …)</p>

<p>These methods compute forward and inverse discrete wavelet transforms of
the vector <code>v</code>. The length of the transform is restricted to
powers of two. For the transform version of the function the argument dir
can be either GSL::Wavelet::FORWARD (+1) or GSL::Wavelet::BACKWARD (-1). A
workspace <code>work</code> can be omitted.</p>

<p>If <code>v</code> is a <code>GSL::Matrix</code> object, methods for
2d-transforms are called.</p>

<p>For the forward transform, the elements of the original vector are replaced
by the discrete wavelet transform f_i -&gt; w_{j,k} in a packed triangular
storage layout, where j is the index of the level j = 0 … J-1 and k is the
index of the coefficient within each level, k = 0 … (2^j)-1. The total
number of levels is J = log_2(n).</p>

<p>These methods return a transformed data, and the input vector is not
changed.</p>
</li></ul>

<h3 id="label-Wavelet+transforms+in+two+dimension">Wavelet transforms in two dimension<span><a href="#label-Wavelet+transforms+in+two+dimension">&para;</a> <a href="#top">&uarr;</a></span></h3>
<hr>
<ul><li>
<p>GSL::Wavelet.transform(same as the methods for one dimensional transforms)</p>
</li><li>
<p>GSL::Wavelet.transform_matrix()</p>
</li><li>
<p>GSL::Wavelet2d.transform()</p>
</li><li>
<p>GSL::Wavelet#transform(same as the methods for one dimensional transforms)</p>
</li><li>
<p>GSL::Wavelet#transform_matrix()</p>
</li><li>
<p>GSL::Wavelet2d#transform()</p>
</li></ul>
<hr>
<ul><li>
<p>GSL::Wavelet.transform_forward()</p>
</li><li>
<p>GSL::Wavelet.transform_matrix_forward()</p>
</li><li>
<p>GSL::Wavelet2d.transform_forward()</p>
</li><li>
<p>GSL::Wavelet#transform_forward()</p>
</li><li>
<p>GSL::Wavelet#transform_matrix_forward()</p>
</li><li>
<p>GSL::Wavelet2d#transform_forward()</p>
</li></ul>
<hr>
<ul><li>
<p>GSL::Wavelet.transform_inverse()</p>
</li><li>
<p>GSL::Wavelet.transform_matrix_inverse()</p>
</li><li>
<p>GSL::Wavelet2d.transform_inverse()</p>
</li><li>
<p>GSL::Wavelet#transform_inverse()</p>
</li><li>
<p>GSL::Wavelet#transform_matrix_inverse()</p>
</li><li>
<p>GSL::Wavelet2d#transform_inverse()</p>
</li></ul>
<hr>
<ul><li>
<p>GSL::Wavelet.nstransform(same as the methods for one dimensional
nstransforms)</p>
</li><li>
<p>GSL::Wavelet.nstransform_matrix()</p>
</li><li>
<p>GSL::Wavelet2d.nstransform()</p>
</li><li>
<p>GSL::Wavelet#nstransform(same as the methods for one dimensional
nstransforms)</p>
</li><li>
<p>GSL::Wavelet#nstransform_matrix()</p>
</li><li>
<p>GSL::Wavelet2d#nstransform()</p>
</li></ul>
<hr>
<ul><li>
<p>GSL::Wavelet.nstransform_forward()</p>
</li><li>
<p>GSL::Wavelet.nstransform_matrix_forward()</p>
</li><li>
<p>GSL::Wavelet2d.nstransform_forward()</p>
</li><li>
<p>GSL::Wavelet#nstransform_forward()</p>
</li><li>
<p>GSL::Wavelet#nstransform_matrix_forward()</p>
</li><li>
<p>GSL::Wavelet2d#nstransform_forward()</p>
</li></ul>
<hr>
<ul><li>
<p>GSL::Wavelet.nstransform_inverse()</p>
</li><li>
<p>GSL::Wavelet.nstransform_matrix_inverse()</p>
</li><li>
<p>GSL::Wavelet2d.nstransform_inverse()</p>
</li><li>
<p>GSL::Wavelet#nstransform_inverse()</p>
</li><li>
<p>GSL::Wavelet#nstransform_matrix_inverse()</p>
</li><li>
<p>GSL::Wavelet2d#nstransform_inverse()</p>
</li></ul>

<h2 id="label-Example">Example<span><a href="#label-Example">&para;</a> <a href="#top">&uarr;</a></span></h2>

<pre class="ruby"><span class="ruby-comment">#!/usr/bin/env ruby</span>
<span class="ruby-identifier">require</span>(<span class="ruby-string">&quot;gsl&quot;</span>)

<span class="ruby-identifier">n</span> = <span class="ruby-value">256</span>
<span class="ruby-identifier">nc</span> = <span class="ruby-value">20</span>

<span class="ruby-identifier">data</span> = <span class="ruby-constant">Vector</span>.<span class="ruby-identifier">alloc</span>(<span class="ruby-identifier">n</span>)
<span class="ruby-identifier">data</span>.<span class="ruby-identifier">fscanf</span>(<span class="ruby-string">&quot;ecg.dat&quot;</span>)

<span class="ruby-identifier">w</span> = <span class="ruby-constant">GSL</span><span class="ruby-operator">::</span><span class="ruby-constant">Wavelet</span>.<span class="ruby-identifier">alloc</span>(<span class="ruby-string">&quot;daubechies&quot;</span>, <span class="ruby-value">4</span>)
<span class="ruby-identifier">work</span> = <span class="ruby-constant">GSL</span><span class="ruby-operator">::</span><span class="ruby-constant">Wavelet</span><span class="ruby-operator">::</span><span class="ruby-constant">Workspace</span>.<span class="ruby-identifier">alloc</span>(<span class="ruby-identifier">n</span>)

<span class="ruby-comment">##### Choose as you like...</span>
<span class="ruby-identifier">data2</span> = <span class="ruby-identifier">w</span>.<span class="ruby-identifier">transform</span>(<span class="ruby-identifier">data</span>, <span class="ruby-constant">Wavelet</span><span class="ruby-operator">::</span><span class="ruby-constant">FORWARD</span>, <span class="ruby-identifier">work</span>)
<span class="ruby-comment">#data2 = w.transform(data, work)</span>
<span class="ruby-comment">#data2 = w.transform(data)</span>
<span class="ruby-comment">#data2 = w.transform(data, Wavelet::FORWARD)</span>
<span class="ruby-comment">#data2 = w.transform_forward(data, work)</span>
<span class="ruby-comment">#data2 = w.transform_forward(data)</span>
<span class="ruby-comment">#data2 = Wavelet.transform(w, data, Wavelet::FORWARD, work)</span>
<span class="ruby-comment">#data2 = Wavelet.transform(w, data, Wavelet::FORWARD)</span>
<span class="ruby-comment">#data2 = Wavelet.transform(w, data, work)</span>
<span class="ruby-comment">#data2 = Wavelet.transform_forward(w, data)</span>
<span class="ruby-comment">#data2 = data.wavelet_transform(w, Wavelet::FORWARD, work)</span>
<span class="ruby-comment">#data2 = data.wavelet_transform_forward(w, work)</span>

<span class="ruby-identifier">perm</span> = <span class="ruby-identifier">data2</span>.<span class="ruby-identifier">abs</span>.<span class="ruby-identifier">sort_index</span>

<span class="ruby-identifier">i</span> = <span class="ruby-value">0</span>
<span class="ruby-keyword">while</span> (<span class="ruby-identifier">i</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">nc</span>) <span class="ruby-operator">&lt;</span> <span class="ruby-identifier">n</span>
  <span class="ruby-identifier">data2</span>[<span class="ruby-identifier">perm</span>[<span class="ruby-identifier">i</span>]] = <span class="ruby-value">0.0</span>
  <span class="ruby-identifier">i</span> <span class="ruby-operator">+=</span> <span class="ruby-value">1</span>
<span class="ruby-keyword">end</span>

<span class="ruby-comment">#data3 = w.transform(data2, Wavelet::BACKWARD, work)</span>
<span class="ruby-comment">#data3 = w.transform(data2, Wavelet::BACKWARD)</span>
<span class="ruby-comment">#data3 = w.transform_inverse(data2, work)</span>
<span class="ruby-comment">#data3 = w.transform_inverse(data2)</span>
<span class="ruby-comment">#data3 = Wavelet.transform(w, data2, Wavelet::BACKWARD, work)</span>
<span class="ruby-comment">#data3 = Wavelet.transform(w, data2, Wavelet::BACKWARD)</span>
<span class="ruby-comment">#data3 = Wavelet.transform_inverse(w, data2, work)</span>
<span class="ruby-identifier">data3</span> = <span class="ruby-constant">Wavelet</span>.<span class="ruby-identifier">transform_inverse</span>(<span class="ruby-identifier">w</span>, <span class="ruby-identifier">data2</span>)
<span class="ruby-comment">#data3 = data2.wavelet_transform(w, Wavelet::BACKWARD, work)</span>
<span class="ruby-comment">#data3 = data2.wavelet_transform_inverse(w, work)</span>

<span class="ruby-comment">#If you have GNU graph utility...</span>
<span class="ruby-constant">GSL</span><span class="ruby-operator">::</span><span class="ruby-identifier">graph</span>(<span class="ruby-keyword">nil</span>, <span class="ruby-identifier">data</span>, <span class="ruby-identifier">data3</span>, <span class="ruby-string">&quot;-T X -C -g 3&quot;</span>)
</pre>

<p><a href="fft_rdoc.html">prev</a> <a href="integration_rdoc.html">next</a></p>

<p><a href="../index.html">back</a></p>
</main>



<footer id="validator-badges" role="contentinfo">
  <p><a href="http://validator.w3.org/check/referer">Validate</a>
  <p>Generated by <a href="http://docs.seattlerb.org/rdoc/">RDoc</a> 4.2.0.
  <p>Based on <a href="http://deveiate.org/projects/Darkfish-RDoc/">Darkfish</a> by <a href="http://deveiate.org">Michael Granger</a>.
</footer>

