<!DOCTYPE html>

<html>
<head>
<meta charset="UTF-8">

<title>wavelet - Ruby/GSL (v1.15.3.2)</title>

<link href="../fonts.css" rel="stylesheet">
<link href="../rdoc.css" rel="stylesheet">

<script type="text/javascript">
  var rdoc_rel_prefix = "../";
</script>

<script src="../js/jquery.js"></script>
<script src="../js/navigation.js"></script>
<script src="../js/search_index.js"></script>
<script src="../js/search.js"></script>
<script src="../js/searcher.js"></script>
<script src="../js/darkfish.js"></script>


<body id="top" role="document" class="file">
<nav role="navigation">
  <div id="project-navigation">
    <div id="home-section" role="region" title="Quick navigation" class="nav-section">
  <h2>
    <a href="../index.html" rel="home">Home</a>
  </h2>

  <div id="table-of-contents-navigation">
    <a href="../table_of_contents.html#pages">Pages</a>
    <a href="../table_of_contents.html#classes">Classes</a>
    <a href="../table_of_contents.html#methods">Methods</a>
  </div>
</div>

    <div id="search-section" role="search" class="project-section initially-hidden">
  <form action="#" method="get" accept-charset="utf-8">
    <div id="search-field-wrapper">
      <input id="search-field" role="combobox" aria-label="Search"
             aria-autocomplete="list" aria-controls="search-results"
             type="text" name="search" placeholder="Search" spellcheck="false"
             title="Type to search, Up and Down to navigate, Enter to load">
    </div>

    <ul id="search-results" aria-label="Search Results"
        aria-busy="false" aria-expanded="false"
        aria-atomic="false" class="initially-hidden"></ul>
  </form>
</div>

  </div>

  
<div class="nav-section">
  <h3>Table of Contents</h3>

  <ul class="link-list" role="directory">
    <li><a href="#label-Discrete+Wavelet+Transforms">Discrete Wavelet Transforms</a>
    <li><a href="#label-+Definitions"><a href="index.html"name="1"></a> Definitions</a>
    <li><a href="#label-+Initialization"><a href="index.html"name="2"></a> Initialization</a>
    <li><a href="#label-+Transform+Methods"><a href="index.html"name="3"></a> Transform Methods</a>
    <li><a href="#label-+Wavelet+transforms+in+one+dimension"><a href="index.html"name="3.1"></a> Wavelet transforms in one dimension</a>
    <li><a href="#label-+Wavelet+transforms+in+two+dimension"><a href="index.html"name="3.2"></a> Wavelet transforms in two dimension</a>
    <li><a href="#label-+Example"><a href="index.html"name="4"></a> Example</a>
  </ul>
</div>


  <div id="project-metadata">
    <div id="fileindex-section" class="nav-section">
  <h3>Pages</h3>

  <ul class="link-list">
  
    <li><a href="../rdoc/alf_rdoc.html">alf</a>
  
    <li><a href="../rdoc/blas_rdoc.html">blas</a>
  
    <li><a href="../rdoc/bspline_rdoc.html">bspline</a>
  
    <li><a href="../rdoc/changes_rdoc.html">changes</a>
  
    <li><a href="../rdoc/cheb_rdoc.html">cheb</a>
  
    <li><a href="../rdoc/cholesky_complex_rdoc.html">cholesky_complex</a>
  
    <li><a href="../rdoc/combi_rdoc.html">combi</a>
  
    <li><a href="../rdoc/complex_rdoc.html">complex</a>
  
    <li><a href="../rdoc/const_rdoc.html">const</a>
  
    <li><a href="../rdoc/dht_rdoc.html">dht</a>
  
    <li><a href="../rdoc/diff_rdoc.html">diff</a>
  
    <li><a href="../rdoc/ehandling_rdoc.html">ehandling</a>
  
    <li><a href="../rdoc/eigen_rdoc.html">eigen</a>
  
    <li><a href="../rdoc/fft_rdoc.html">fft</a>
  
    <li><a href="../rdoc/fit_rdoc.html">fit</a>
  
    <li><a href="../rdoc/function_rdoc.html">function</a>
  
    <li><a href="../rdoc/graph_rdoc.html">graph</a>
  
    <li><a href="../rdoc/hist_rdoc.html">hist</a>
  
    <li><a href="../rdoc/hist2d_rdoc.html">hist2d</a>
  
    <li><a href="../rdoc/hist3d_rdoc.html">hist3d</a>
  
    <li><a href="../rdoc/index_rdoc.html">index</a>
  
    <li><a href="../rdoc/integration_rdoc.html">integration</a>
  
    <li><a href="../rdoc/interp_rdoc.html">interp</a>
  
    <li><a href="../rdoc/intro_rdoc.html">intro</a>
  
    <li><a href="../rdoc/linalg_rdoc.html">linalg</a>
  
    <li><a href="../rdoc/linalg_complex_rdoc.html">linalg_complex</a>
  
    <li><a href="../rdoc/math_rdoc.html">math</a>
  
    <li><a href="../rdoc/matrix_rdoc.html">matrix</a>
  
    <li><a href="../rdoc/min_rdoc.html">min</a>
  
    <li><a href="../rdoc/monte_rdoc.html">monte</a>
  
    <li><a href="../rdoc/multimin_rdoc.html">multimin</a>
  
    <li><a href="../rdoc/multiroot_rdoc.html">multiroot</a>
  
    <li><a href="../rdoc/narray_rdoc.html">narray</a>
  
    <li><a href="../rdoc/ndlinear_rdoc.html">ndlinear</a>
  
    <li><a href="../rdoc/nonlinearfit_rdoc.html">nonlinearfit</a>
  
    <li><a href="../rdoc/ntuple_rdoc.html">ntuple</a>
  
    <li><a href="../rdoc/odeiv_rdoc.html">odeiv</a>
  
    <li><a href="../rdoc/perm_rdoc.html">perm</a>
  
    <li><a href="../rdoc/poly_rdoc.html">poly</a>
  
    <li><a href="../rdoc/qrng_rdoc.html">qrng</a>
  
    <li><a href="../rdoc/randist_rdoc.html">randist</a>
  
    <li><a href="../rdoc/ref_rdoc.html">ref</a>
  
    <li><a href="../rdoc/rng_rdoc.html">rng</a>
  
    <li><a href="../rdoc/roots_rdoc.html">roots</a>
  
    <li><a href="../rdoc/screenshot_rdoc.html">screenshot</a>
  
    <li><a href="../rdoc/sf_rdoc.html">sf</a>
  
    <li><a href="../rdoc/siman_rdoc.html">siman</a>
  
    <li><a href="../rdoc/sort_rdoc.html">sort</a>
  
    <li><a href="../rdoc/start_rdoc.html">start</a>
  
    <li><a href="../rdoc/stats_rdoc.html">stats</a>
  
    <li><a href="../rdoc/sum_rdoc.html">sum</a>
  
    <li><a href="../rdoc/tensor_rdoc.html">tensor</a>
  
    <li><a href="../rdoc/tut_rdoc.html">tut</a>
  
    <li><a href="../rdoc/use_rdoc.html">use</a>
  
    <li><a href="../rdoc/vector_rdoc.html">vector</a>
  
    <li><a href="../rdoc/vector_complex_rdoc.html">vector_complex</a>
  
    <li><a href="../rdoc/wavelet_rdoc.html">wavelet</a>
  
  </ul>
</div>

  </div>
</nav>

<main role="main" aria-label="Page rdoc/wavelet.rdoc">

<h1 id="label-Discrete+Wavelet+Transforms">Discrete Wavelet Transforms<span><a href="#label-Discrete+Wavelet+Transforms">&para;</a> <a href="#documentation">&uarr;</a></span></h1>

<p>This chapter describes functions for performing Discrete Wavelet Transforms
(DWTs).  The library includes wavelets for real data in both one and two
dimensions.</p>

<p>Contents:</p>
<ol><li>
<p><a href="rdoc/wavelet_rdoc.html#1">Definitions</a></p>
</li><li>
<p><a href="rdoc/wavelet_rdoc.html#2">Initialization</a></p>
</li><li>
<p><a href="rdoc/wavelet_rdoc.html#3">Transform methods</a></p>
<ol><li>
<p><a href="rdoc/wavelet_rdoc.html#3.1">Wavelet transforms in one
dimension</a></p>
</li><li>
<p><a href="rdoc/wavelet_rdoc.html#3.2">Wavelet transforms in two
dimension</a></p>
</li></ol>
</li><li>
<p><a href="rdoc/wavelet_rdoc.html#4">Examples</a></p>
</li></ol>

<h2 id="label-+Definitions"><a href="../index.html"name="1"></a> Definitions<span><a href="#label-+Definitions">&para;</a> <a href="#documentation">&uarr;</a></span></h2>

<p>The continuous wavelet transform and its inverse are defined by the
relations, and, where the basis functionspsi_{s,tau} are obtained by
scaling and translation  from a single function, referred to as the mother
wavelet.</p>

<p>The discrete version of the wavelet transform acts on evenly sampled data, 
with fixed scaling and translation steps (s, tau). The frequency and time 
axes are sampled dyadically on scales of 2^j through a level parameter j. 
The resulting family of functions {psi_{j,n}} constitutes an orthonormal 
basis for square-integrable signals.</p>

<p>The discrete wavelet transform is an O(N) algorithm, and is also referred
to as  the fast wavelet transform.</p>

<h2 id="label-+Initialization"><a href="../index.html"name="2"></a> Initialization<span><a href="#label-+Initialization">&para;</a> <a href="#documentation">&uarr;</a></span></h2>
<hr>
<ul><li>
<p>GSL::Wavelet.alloc(type, k)</p>
</li><li>
<p>GSL::Wavelet.alloc(type, k)</p>

<p>This function allocates and initializes a wavelet object of type
<code>type</code>.  The parameter <code>k</code> selects the specific
member of the wavelet family.</p>

<p>The wavelet types are given by a constant (Fixnum) or a string as
followings.</p>
<ul><li>
<p><code>GSL::Wavelet::DAUBECHIES</code>, or
<code>&quot;daubechies&quot;</code></p>
</li><li>
<p><code>GSL::Wavelet::DAUBECHIES_CENTERED</code>, or
<code>&quot;daubechies_centered&quot;</code></p>
</li><li>
<p><code>GSL::Wavelet::HAAR</code>, or <code>&quot;haar&quot;</code></p>
</li><li>
<p><code>GSL::Wavelet::HAAR_CENTERED</code>, or
<code>&quot;haar_centered&quot;</code></p>
</li><li>
<p><code>GSL::Wavelet::BSPLINE</code>, or <code>&quot;bspline&quot;</code></p>
</li><li>
<p><code>GSL::Wavelet::BSPLINE_CENTERED</code>, or
<code>&quot;bspline_centered&quot;</code></p>
</li></ul>

<p>The centered forms of the wavelets align the coefficients of the various 
sub-bands on edges. Thus the resulting visualization of the coefficients 
of the wavelet transform in the phase plane is easier to understand.</p>
</li></ul>
<hr>
<ul><li>
<p>GSL::Wavelet#name</p>

<p>This method returns a String of the name of the wavelet family for
<code>self</code>.</p>
</li></ul>
<hr>
<ul><li>
<p>GSL::Wavelet::Workspace.alloc(n)</p>

<p>The GSL::Wavelet::Workspace object contains scratch space of the same size
as  the input data, for holding intermediate results during the transform.
This method allocates a workspace for the discrete wavelet transform.  To
perform a one-dimensional transform on <code>n</code> elements, a workspace
of  size <code>n</code> must be provided. For two-dimensional transforms of
n-by-n  matrices it is sufficient to allocate a workspace of size
<code>n</code>,  since the transform operates on individual rows and
columns.</p>
</li></ul>

<h2 id="label-+Transform+Methods"><a href="../index.html"name="3"></a> Transform Methods<span><a href="#label-+Transform+Methods">&para;</a> <a href="#documentation">&uarr;</a></span></h2>

<h3 id="label-+Wavelet+transforms+in+one+dimension"><a href="../index.html"name="3.1"></a> Wavelet transforms in one dimension<span><a href="#label-+Wavelet+transforms+in+one+dimension">&para;</a> <a href="#documentation">&uarr;</a></span></h3>
<hr>
<ul><li>
<p>GSL::Wavelet.transform(w, v, dir = GSL::Wavelet::FORWARD, work)</p>
</li><li>
<p>GSL::Wavelet.transform(w, v, dir)</p>
</li><li>
<p>GSL::Wavelet.transform(w, v, work)</p>
</li><li>
<p>GSL::Wavelet.transform(w, v)</p>
</li><li>
<p>GSL::Wavelet#transform(v, dir = GSL::Wavelet::FORWARD, work)</p>
</li><li>
<p>GSL::Wavelet#transform(v, dir)</p>
</li><li>
<p>GSL::Wavelet#transform(v, work)</p>
</li><li>
<p>GSL::Wavelet#transform(v)</p>
</li><li>
<p>GSL::Wavelet.transform_forward(w, v, work)</p>
</li><li>
<p>GSL::Wavelet.transform_forward(w, v)</p>
</li><li>
<p>GSL::Wavelet#transform_forward(v, work)</p>
</li><li>
<p>GSL::Wavelet#transform_forward(v)</p>
</li><li>
<p>GSL::Wavelet.transform_inverse(w, v, work)</p>
</li><li>
<p>GSL::Wavelet.transform_inverse(w, v)</p>
</li><li>
<p>GSL::Wavelet#transform_inverse(v, work)</p>
</li><li>
<p>GSL::Wavelet#transform_inverse(v)</p>
</li><li>
<p>GSL::Vector#wavelet_transform(w, …)</p>
</li><li>
<p>GSL::Vector#wavelet_transform_forward(w, …)</p>
</li><li>
<p>GSL::Vector#wavelet_transform_inverse(w, …)</p>

<p>These methods compute forward and inverse discrete wavelet transforms  of
the vector <code>v</code>. The length of the transform is restricted to
powers  of two. For the transform version of the function the argument dir
can be  either GSL::Wavelet::FORWARD (+1) or GSL::Wavelet::BACKWARD (-1). 
A workspace <code>work</code> can be omitted.</p>

<p>If <code>v</code> is a <code>GSL::Matrix</code> object, methods for
2d-transforms are called.</p>

<p>For the forward transform, the elements of the original vector are replaced
by  the discrete wavelet transform f_i -&gt; w_{j,k} in a packed triangular
storage  layout, where j is the index of the level j = 0 … J-1 and k is the
index of  the coefficient within each level, k = 0 … (2^j)-1. The total
number of  levels is J = log_2(n).</p>

<p>These methods return a transformed data, and the input vector is not
changed.</p>
</li></ul>

<h3 id="label-+Wavelet+transforms+in+two+dimension"><a href="../index.html"name="3.2"></a> Wavelet transforms in two dimension<span><a href="#label-+Wavelet+transforms+in+two+dimension">&para;</a> <a href="#documentation">&uarr;</a></span></h3>
<hr>
<ul><li>
<p>GSL::Wavelet.transform(same as the methods for one dimensional transforms)</p>
</li><li>
<p>GSL::Wavelet.transform_matrix()</p>
</li><li>
<p>GSL::Wavelet2d.transform()</p>
</li><li>
<p>GSL::Wavelet#transform(same as the methods for one dimensional transforms)</p>
</li><li>
<p>GSL::Wavelet#transform_matrix()</p>
</li><li>
<p>GSL::Wavelet2d#transform()</p>
</li></ul>
<hr>
<ul><li>
<p>GSL::Wavelet.transform_forward()</p>
</li><li>
<p>GSL::Wavelet.transform_matrix_forward()</p>
</li><li>
<p>GSL::Wavelet2d.transform_forward()</p>
</li><li>
<p>GSL::Wavelet#transform_forward()</p>
</li><li>
<p>GSL::Wavelet#transform_matrix_forward()</p>
</li><li>
<p>GSL::Wavelet2d#transform_forward()</p>
</li></ul>
<hr>
<ul><li>
<p>GSL::Wavelet.transform_inverse()</p>
</li><li>
<p>GSL::Wavelet.transform_matrix_inverse()</p>
</li><li>
<p>GSL::Wavelet2d.transform_inverse()</p>
</li><li>
<p>GSL::Wavelet#transform_inverse()</p>
</li><li>
<p>GSL::Wavelet#transform_matrix_inverse()</p>
</li><li>
<p>GSL::Wavelet2d#transform_inverse()</p>
</li></ul>
<hr>
<ul><li>
<p>GSL::Wavelet.nstransform(same as the methods for one dimensional
nstransforms)</p>
</li><li>
<p>GSL::Wavelet.nstransform_matrix()</p>
</li><li>
<p>GSL::Wavelet2d.nstransform()</p>
</li><li>
<p>GSL::Wavelet#nstransform(same as the methods for one dimensional
nstransforms)</p>
</li><li>
<p>GSL::Wavelet#nstransform_matrix()</p>
</li><li>
<p>GSL::Wavelet2d#nstransform()</p>
</li></ul>
<hr>
<ul><li>
<p>GSL::Wavelet.nstransform_forward()</p>
</li><li>
<p>GSL::Wavelet.nstransform_matrix_forward()</p>
</li><li>
<p>GSL::Wavelet2d.nstransform_forward()</p>
</li><li>
<p>GSL::Wavelet#nstransform_forward()</p>
</li><li>
<p>GSL::Wavelet#nstransform_matrix_forward()</p>
</li><li>
<p>GSL::Wavelet2d#nstransform_forward()</p>
</li></ul>
<hr>
<ul><li>
<p>GSL::Wavelet.nstransform_inverse()</p>
</li><li>
<p>GSL::Wavelet.nstransform_matrix_inverse()</p>
</li><li>
<p>GSL::Wavelet2d.nstransform_inverse()</p>
</li><li>
<p>GSL::Wavelet#nstransform_inverse()</p>
</li><li>
<p>GSL::Wavelet#nstransform_matrix_inverse()</p>
</li><li>
<p>GSL::Wavelet2d#nstransform_inverse()</p>
</li></ul>

<h2 id="label-+Example"><a href="../index.html"name="4"></a> Example<span><a href="#label-+Example">&para;</a> <a href="#documentation">&uarr;</a></span></h2>

<pre>#!/usr/bin/env ruby
require(&quot;gsl&quot;)

n = 256
nc = 20

data = Vector.alloc(n)
data.fscanf(&quot;ecg.dat&quot;)

w = GSL::Wavelet.alloc(&quot;daubechies&quot;, 4)
work = GSL::Wavelet::Workspace.alloc(n)

##### Choose as you like...
data2 = w.transform(data, Wavelet::FORWARD, work)
#data2 = w.transform(data, work)
#data2 = w.transform(data)
#data2 = w.transform(data, Wavelet::FORWARD)
#data2 = w.transform_forward(data, work)
#data2 = w.transform_forward(data)
#data2 = Wavelet.transform(w, data, Wavelet::FORWARD, work)
#data2 = Wavelet.transform(w, data, Wavelet::FORWARD)
#data2 = Wavelet.transform(w, data, work)
#data2 = Wavelet.transform_forward(w, data)
#data2 = data.wavelet_transform(w, Wavelet::FORWARD, work)
#data2 = data.wavelet_transform_forward(w, work)

perm = data2.abs.sort_index

i = 0
while (i + nc) &lt; n
  data2[perm[i]] = 0.0
  i += 1  
end

#data3 = w.transform(data2, Wavelet::BACKWARD, work)
#data3 = w.transform(data2, Wavelet::BACKWARD)
#data3 = w.transform_inverse(data2, work)
#data3 = w.transform_inverse(data2)
#data3 = Wavelet.transform(w, data2, Wavelet::BACKWARD, work)
#data3 = Wavelet.transform(w, data2, Wavelet::BACKWARD)
#data3 = Wavelet.transform_inverse(w, data2, work)
data3 = Wavelet.transform_inverse(w, data2)
#data3 = data2.wavelet_transform(w, Wavelet::BACKWARD, work)
#data3 = data2.wavelet_transform_inverse(w, work)

#If you have GNU graph utility...
GSL::graph(nil, data, data3, &quot;-T X -C -g 3&quot;)</pre>

<p><a href="rdoc/fft_rdoc.html">prev</a> <a
href="rdoc/integration_rdoc.html">next</a></p>

<p><a href="rdoc/index_rdoc.html">back</a></p>
</main>



<footer id="validator-badges" role="contentinfo">
  <p><a href="http://validator.w3.org/check/referer">Validate</a>
  <p>Generated by <a href="http://rdoc.rubyforge.org">RDoc</a> 4.1.1.
  <p>Based on <a href="http://deveiate.org/projects/Darkfish-Rdoc/">Darkfish</a> by <a href="http://deveiate.org">Michael Granger</a>.
</footer>

